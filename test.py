"""
Streamlit Mood-based Music Recommender - 한국 노래 제목 표시 버전 (플레이리스트 확장)

▶ 기능
- 사용자가 기분을 선택하면 그에 맞는 한국 노래 제목과 가수 리스트를 보여줍니다.
- 유튜브 임베드 없이 제목과 가수 정보만 제공
- 각 기분별로 3~5곡씩 추천
"""

import random
import streamlit as st

# -------------------------------
# 기본 설정
# -------------------------------
st.set_page_config(page_title="기분 음악 추천기", page_icon="🎵", layout="centered")

# -------------------------------
# 데이터: 기분별 한국 노래 (가수 + 노래 제목)
# -------------------------------
MOOD_MUSIC = {
    "😀 행복": [
        ("아이유", "좋은 날"),
        ("BTS", "Dynamite"),
        ("레드벨벳", "빨간 맛"),
        ("트와이스", "Cheer Up"),
        ("방탄소년단", "Permission to Dance"),
    ],
    "😢 슬픔": [
        ("태연", "사계"),
        ("폴킴", "모든 날, 모든 순간"),
        ("백예린", "그건 아마 우리의 잘못은 아닐 거야"),
        ("아이유", "사랑이 잘"),
        ("벤", "열애중"),
    ],
    "😡 분노": [
        ("방탄소년단", "MIC Drop"),
        ("지코", "Any Song"),
        ("다이나믹 듀오", "BAAAM"),
    ],
    "😌 차분": [
        ("아이유", "밤편지"),
        ("악동뮤지션", "오랜 날 오랜 밤"),
        ("헤이즈", "비도 오고 그래서"),
        ("적재", "별 보러 가자"),
    ],
    "🤩 신남": [
        ("싸이", "That That (feat. SUGA)"),
        ("세븐틴", "아주 NICE"),
        ("NCT 127", "Kick It"),
        ("ITZY", "WANNABE"),
    ],
    "😴 피곤": [
        ("백예린", "밤하늘의 별을"),
        ("악동뮤지션", "오랜 날 오랜 밤"),
        ("아이유", "이 지금"),
        ("케이시", "그때가 좋았어"),
    ],
    "🎯 집중": [
        ("아이유", "무릎"),
        ("검정치마", "EVERYTHING"),
        ("새소년", "단풍")
    ],
}

# -------------------------------
# UI
# -------------------------------

st.title("🎵 기분별 한국 노래 추천기")
st.caption("당신의 기분에 맞는 한국 노래 제목과 가수 리스트를 보여줍니다.")

mood = st.selectbox("지금 기분을 선택하세요", list(MOOD_MUSIC.keys()))

if mood:
    st.subheader(f"당신의 기분: {mood}")
    songs = MOOD_MUSIC[mood].copy()
    random.shuffle(songs)

    st.markdown("**추천 플레이리스트:**")
    for i, (artist, title) in enumerate(songs[:5], start=1):
        st.write(f"{i}. {title} — {artist}")

# -------------------------------
# 팁
# -------------------------------
st.divider()
st.markdown(
    """
**Tips**
- 🎶 `MOOD_MUSIC` 딕셔너리에 원하는 노래와 가수를 더 추가할 수 있어요.
- 🔀 매번 다른 플레이리스트를 보고 싶으면 `random.shuffle`을 이용해 곡 순서를 섞을 수 있어요.
"""
)
